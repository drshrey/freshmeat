{% extends 'layout.html' %}

{% block head %}
<script type="text/javascript">
	var imgDir = '/static/img';
    var animalImages = {
        'Birds': imgDir + '/bird.png',
        'Chicken': imgDir + '/chicken-hen.jpg',
        'Dove': imgDir + '/dove.jpg',
        'Pig': imgDir + '/pig.jpg',
        'Pigeon': imgDir + '/pigeon.png',
        'Rooster': imgDir + '/rooster.png',
        'Not Specified': imgDir + '/unknown.gif',
        'Lamb': imgDir + '/lamb.svg',
        'Rat': imgDir + '/rat.jpg',
        'Goat': imgDir + '/goat.jpg'
    }
    animal = 'Chicken';
    console.log(animalImages[animal]);
   // $("<img src="+animalImages[animal] +"></img>").load(function(){
    //	$(this).width("10%").height("10%").appendTo("#animal-image");
   // })
    //$("#animal-image").append("<img src="+animalImages[animal] +"></img>");
</script>

{% endblock %}

{% block body %}
	<div style="position:relative; left:48%;" id="animal-image"> 
	</div>
	<div style="" id="division">
	</div>

	<table id="results" class='table table-bordered'>
		<thead>
			<tr><th>Animal</th><th>Body Parts Found</th><th>Quantity</th><th>Date Started</th><th>Date Closed</th><th>Source</th><th>Division</th><th>Form</th><th>Status</th><th>Priority</th><th>Location</th><th>Complaint Type</th><th>Resolution</th></tr>
		</thead>
		<tbody id="test">
			<tr>
			</tr>
		</tbody>
	</table>

<script type="text/javascript">
	var results = {{ queries|tojson }};
    console.log(results);
	items = ["Manhattan", "Brooklyn", "The Bronx", "Queens"];
	var item = items[Math.floor(Math.random()*items.length)];
	$("#division").append("<h3>Eat at " + item +"</h3>");
	console.log(results);
	console.log(document.getElementById("test"));
	for(var i=0; i < results.length; i++){
		console.log(results[i]);
		$("#results").append("<tr>" + 
		 					 "<td>" + results[i]['animal']['name']+ "</td>" +
		 					 "<td>" + results[i]['body_part']['body_part'] + "</td>" +
		 					 "<td>" + results[i]['quantity'] + "</td>" +
		 					 "<td>" + results[i]['date_started'] + "</td>" +
		 					 "<td>" + results[i]['date_closed'] + "</td>" +
		 					 "<td>" + results[i].source + "</td>" +
		 					 "<td>" + results[i].division.name + "</td>" +
		 					 "<td>" + results[i].form + "</td>" +
		 					 "<td>" + results[i].status  + "</td>" +
		 					 "<td>" + results[i].priority + "</td>" +
		 					 "<td>" + results[i].location.address + "</td>" +
		 					 "<td>" + results[i].complaint_type+ "</td>" +
		 					 "<td>" + results[i].resolution+ "</td>" + 
		 					 "</tr>");
	}

</script>
</script>

{% endblock %}
